---
layout: pgm-into-new_md
title: 购物车复选框选择jQuery插件
id: pgm-24
url: programme/24
css: <link rel="stylesheet" type="text/css" href="../programme/pgm-page24/pgm-page24.css">
permalink: /programme/24
---
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="psah" id="购物车复选框选择jquery插件">购物车复选框选择jQuery插件</h1><p data-anchor-id="wweb"><code>javascript</code> <code>jQuery</code> <code>plugin</code></p><hr><ul data-anchor-id="awnh">
<li>示例</li>
<li><p>css</p>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-css"><span class="pun">.</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">a</span><span class="pun">{</span></code></li><li class="L1"><code class="language-css"><span class="pln">    color</span><span class="pun">:#</span><span class="pln">EC1E63</span><span class="pun">;</span></code></li><li class="L2"><code class="language-css"><span class="pun">}</span></code></li><li class="L3"><code class="language-css"><span class="pun">.</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">b</span><span class="pun">{</span></code></li><li class="L4"><code class="language-css"><span class="pln">    background</span><span class="pun">:#</span><span class="pln">D6DBDF</span><span class="pun">;</span></code></li><li class="L5"><code class="language-css"><span class="pun">}</span></code></li></ol></pre></li>
<li><p>使用方法</p>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javasctipt"><span class="pln">$</span><span class="pun">(</span><span class="str">'input[type="checkbox"]'</span><span class="pun">).</span><span class="pln">sal_checkbox</span><span class="pun">({</span></code></li><li class="L1"><code class="language-javasctipt"><span class="pln">    </span><span class="str">'level'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></code></li><li class="L2"><code class="language-javasctipt"><span class="pln">    </span><span class="str">'class'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'class-a class-b'</span></code></li><li class="L3"><code class="language-javasctipt"><span class="pun">});</span></code></li></ol></pre></li>
<li><p><strong>JavaScript</strong> 源码</p>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$</span><span class="pun">,</span><span class="pln">window</span><span class="pun">,</span><span class="pln">document</span><span class="pun">,</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">        </span><span class="str">"use strict"</span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">        </span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">$</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> console</span><span class="pun">.</span><span class="pln">warn</span><span class="pun">(</span><span class="str">'页面没有正确引入jQuery'</span><span class="pun">);</span><span class="pln"> </span><span class="pun">};</span><span class="pln">  </span></code></li><li class="L3"><code class="language-javascript"><span class="pln">     $</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">sal_checkbox </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">options</span><span class="pun">){</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">          </span><span class="kwd">var</span><span class="pln"> check_arr </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">toArray</span><span class="pun">();</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">           </span><span class="kwd">var</span><span class="pln"> check_all </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">(</span><span class="pln">check_arr</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">());</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">            </span><span class="kwd">var</span><span class="pln"> check_box </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">(</span><span class="pln">check_arr</span><span class="pun">);</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">        </span><span class="kwd">var</span><span class="pln"> count     </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">;</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">        </span><span class="kwd">var</span><span class="pln"> set_level </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span></code></li><li class="L9"><code class="language-javascript"></code></li><li class="L0"><code class="language-javascript"><span class="pln">        </span><span class="kwd">var</span><span class="pln"> defaults </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">            </span><span class="str">'level'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">,</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">            </span><span class="str">'class'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">        </span><span class="kwd">var</span><span class="pln"> settings </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({},</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln">options</span><span class="pun">);</span></code></li><li class="L5"><code class="language-javascript"></code></li><li class="L6"><code class="language-javascript"><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> a </span><span class="pun">&lt;</span><span class="pln"> parseInt</span><span class="pun">(</span><span class="pln">settings</span><span class="pun">.</span><span class="pln">level</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> a</span><span class="pun">++){</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">            set_level </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'.parent()'</span><span class="pln"> </span><span class="pun">;</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L9"><code class="language-javascript"></code></li><li class="L0"><code class="language-javascript"><span class="pln">        check_box</span><span class="pun">.</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">            $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">prop</span><span class="pun">(</span><span class="str">'checked'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'$(this)'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.addClass(settings.class)'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'$(this)'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.removeClass(settings.class)'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> b </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> b </span><span class="pun">&lt;</span><span class="pln"> check_box</span><span class="pun">.</span><span class="pln">length </span><span class="pun">;</span><span class="pln"> b</span><span class="pun">++){</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">check_box</span><span class="pun">.</span><span class="pln">eq</span><span class="pun">(</span><span class="pln">b</span><span class="pun">).</span><span class="pln">prop</span><span class="pun">(</span><span class="str">'checked'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">){</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">                    count</span><span class="pun">++;</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">                </span><span class="pun">};</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">            </span><span class="pun">};</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">count </span><span class="pun">===</span><span class="pln"> check_box</span><span class="pun">.</span><span class="pln">length</span><span class="pun">){</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">                check_all</span><span class="pun">.</span><span class="pln">prop</span><span class="pun">(</span><span class="str">'checked'</span><span class="pun">,</span><span class="str">'true'</span><span class="pun">);</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">                </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'check_all'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.addClass(settings.class)'</span><span class="pun">);</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">            </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">                check_all</span><span class="pun">.</span><span class="pln">removeAttr</span><span class="pun">(</span><span class="str">'checked'</span><span class="pun">);</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">                </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'check_all'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.removeClass(settings.class)'</span><span class="pun">);</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">            count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">;</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">        </span><span class="pun">});</span></code></li><li class="L6"><code class="language-javascript"></code></li><li class="L7"><code class="language-javascript"><span class="pln">        check_all</span><span class="pun">.</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">check_all</span><span class="pun">.</span><span class="pln">prop</span><span class="pun">(</span><span class="str">'checked'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">                check_box</span><span class="pun">.</span><span class="pln">each</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">                    $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">prop</span><span class="pun">(</span><span class="str">'checked'</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">                     </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'$(this)'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.addClass(settings.class)'</span><span class="pun">);</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">                    </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'check_all'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.addClass(settings.class)'</span><span class="pun">);</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">                </span><span class="pun">});</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">            </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">                check_box</span><span class="pun">.</span><span class="pln">each</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">                    $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">removeAttr</span><span class="pun">(</span><span class="str">'checked'</span><span class="pun">);</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">                     </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'$(this)'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.removeClass(settings.class)'</span><span class="pun">);</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">                    </span><span class="kwd">eval</span><span class="pun">(</span><span class="str">'check_all'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> set_level </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.removeClass(settings.class)'</span><span class="pun">);</span></code></li><li class="L9"><code class="language-javascript"></code></li><li class="L0"><code class="language-javascript"><span class="pln">                </span><span class="pun">})</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">            </span><span class="pun">};</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">        </span><span class="pun">});</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5"><code class="language-javascript"><span class="pun">})(</span><span class="pln">jQuery</span><span class="pun">,</span><span class="pln">window</span><span class="pun">,</span><span class="pln">document</span><span class="pun">);</span></code></li></ol></pre></li>
</ul></div>

<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="../js/sal_checkbox.js"></script>
<script type="text/javascript">
    $('input[type="checkbox"]').sal_checkbox({
        'level' : 1,
        'class' : 'class-a class-b'
    });
</script>